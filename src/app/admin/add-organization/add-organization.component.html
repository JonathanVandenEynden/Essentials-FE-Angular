<div class="container d-block text-center">
  <a href="/admin/home">
    <img class="logo" alt="Essentials logo" src="assets/images/logoEssentialsDarkGreenLightGreen.png"/>
  </a>
</div>


<div class="d-flex page">
  <div class="h3 brd-right p-3">Create an organization</div>
  <div class="d-flex w-75 align-items-center justify-content-center">
    <button class="btn h-75 mr-2" (click)="NavigateToHome()"><fa-icon [icon]="faHome" class="mr-2"></fa-icon> Home</button>
  </div>
</div>
<div class="pl-5 pr-5">
  <div>
  <form (ngSubmit)="onSubmit()">

      <mat-form-field>
        <input matInput #name aria-label="Name" type="text" placeholder="Name" (change)="organizationName = name.value">
      </mat-form-field>
    <div>
      <input class="text-center" type="file" name="Upload Employee csv" aria-label="Upload Employee csv"
             (change)="onFileSelected($event)"
             accept=".csv">
      <div class="alert alert-info w-50 mt-2">The first employee record of the csv will be assigned the roll of first change manager. <br>Note: this may take a second, you'll be redirected when the organization is added.</div>
    </div>
    <br>

    <div *ngIf="!loading; else Loading">
      <button class="btn btn-primary mb-3" type="submit" [disabled]="isValid()"><fa-icon [icon]="faPlus"></fa-icon> Create Organization</button>    </div>
  </form>
    <ng-template #Loading>
      <mat-progress-bar class="w-25 mb-2" mode="indeterminate"></mat-progress-bar>
    </ng-template>

  </div>
  <table class="table table-bordered">
    <thead class="thead-dark">
    <tr>
      <th>name</th>
      <th>country</th>
      <th>office</th>
      <th>factory</th>
      <th>department</th>
      <th>team</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let record of employeeRecords;let i = index;">
      <td><span>{{record.name}}</span></td>
      <td><span>{{record.country}}</span></td>
      <td><span>{{record.office}}</span></td>
      <td><span>{{record.factory}}</span></td>
      <td><span>{{record.department}}</span></td>
      <td><span>{{record.team}}</span></td>
    </tr>
    </tbody>
  </table>
</div>


